# Visual System Flow & Architecture

## System Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          BOOKSTORE SYSTEM                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                        â”‚
â”‚  FRONTEND (User Interface)                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                                                                  â”‚ â”‚
â”‚  â”‚  main_page.html          main_page.js         main_page.css    â”‚ â”‚
â”‚  â”‚  (User Interface)        (Interactions)       (Styling)         â”‚ â”‚
â”‚  â”‚                                                                  â”‚ â”‚
â”‚  â”‚  â”Œâ”€ DISPLAYS BOOKS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚                                                          â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  Book Card 1    Book Card 2    Book Card 3   ...       â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€      â”€â”€â”€â”€â”€â”€â”€â”€â”€      â”€â”€â”€â”€â”€â”€â”€â”€â”€               â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  [Search]                                              â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  [Filter by Category]                                  â”‚   â”‚ â”‚
â”‚  â”‚  â”‚                                                          â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  When user clicks book â†’ Redirect to admin.html        â”‚   â”‚ â”‚
â”‚  â”‚  â”‚                                                          â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â”‚                                                                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                              â†“                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚         main_page.php (API - Pure Database Fetch)            â”‚  â”‚
â”‚  â”‚                                                              â”‚  â”‚
â”‚  â”‚  â†’ Query: SELECT * FROM books                              â”‚  â”‚
â”‚  â”‚  â†’ Return: JSON { success: true, books: [...] }            â”‚  â”‚
â”‚  â”‚                                                              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                        DATABASE (bookstore_db)                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                                                                  â”‚ â”‚
â”‚  â”‚  â”Œâ”€ books â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€ chapters â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚ â”‚
â”‚  â”‚  â”‚ id (PK)             â”‚    â”‚ id (PK)              â”‚        â”‚ â”‚
â”‚  â”‚  â”‚ title               â”‚    â”‚ book_id (FK)         â”‚        â”‚ â”‚
â”‚  â”‚  â”‚ author              â”‚    â”‚ chapter_number       â”‚        â”‚ â”‚
â”‚  â”‚  â”‚ description         â”‚    â”‚ title                â”‚        â”‚ â”‚
â”‚  â”‚  â”‚ cover_image_path    â”‚    â”‚ created_at           â”‚        â”‚ â”‚
â”‚  â”‚  â”‚ created_at          â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                    â”‚ â”‚
â”‚  â”‚           â–²                                                  â”‚ â”‚
â”‚  â”‚           â”‚ Foreign Key                                     â”‚ â”‚
â”‚  â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚ â”‚
â”‚  â”‚                                                  â”‚           â”‚ â”‚
â”‚  â”‚  â”Œâ”€ book_pages â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚           â”‚ â”‚
â”‚  â”‚  â”‚ id (PK)                   â”‚                 â”‚           â”‚ â”‚
â”‚  â”‚  â”‚ chapter_id (FK) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚ â”‚
â”‚  â”‚  â”‚ page_number               â”‚                             â”‚ â”‚
â”‚  â”‚  â”‚ image_path                â”‚                             â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚ â”‚
â”‚  â”‚                                                                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     ADMIN BACKEND                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                                                                  â”‚ â”‚
â”‚  â”‚  admin.html (Admin Interface)                                   â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚                                                            â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  LEFT SIDEBAR              RIGHT SECTION                  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€            â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                                                            â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  All Books                 Add New Book Form              â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â–¡ Book 1                  Name: [___________]            â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â–¡ Book 2          (Click) Author: [__________]           â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â–¡ Book 3        â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ Desc: [__________ ]           â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â–¡ Book 4                  [ADD BOOK]                     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                                                            â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                            OR                              â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                                                            â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                            Add Chapters (When Selected)    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                            â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                            Num: [__]  Title: [_______]   â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                            [ADD CHAPTER]                  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                                                            â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                            Chapters List:                 â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                            â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                 â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                            â–¡ Chapter 1 [DEL]              â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                            â–¡ Chapter 2 [DEL]              â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                                                            â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                                                                  â”‚ â”‚
â”‚  â”‚  API Endpoints:                                                 â”‚ â”‚
â”‚  â”‚  â”œâ”€ get_books.php              (Read all books)               â”‚ â”‚
â”‚  â”‚  â”œâ”€ get_book.php?id=X          (Read book + chapters)         â”‚ â”‚
â”‚  â”‚  â”œâ”€ admin/add_book.php         (Create book)                  â”‚ â”‚
â”‚  â”‚  â”œâ”€ admin/add_chapter.php      (Create chapter)               â”‚ â”‚
â”‚  â”‚  â””â”€ admin/delete_chapter.php   (Delete chapter)               â”‚ â”‚
â”‚  â”‚                                                                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Complete User Journey

```
START
  â”‚
  â”œâ”€â†’ ðŸ‘¤ ADMIN
  â”‚    â”‚
  â”‚    â”œâ”€â†’ Open: /backend/admin.html
  â”‚    â”‚    â”‚
  â”‚    â”‚    â”œâ”€â†’ [Add New Book Form]
  â”‚    â”‚    â”‚    â”‚
  â”‚    â”‚    â”‚    â””â”€â†’ Enter: Name, Author, Description
  â”‚    â”‚    â”‚         â”‚
  â”‚    â”‚    â”‚         â””â”€â†’ Click "Add Book"
  â”‚    â”‚    â”‚              â”‚
  â”‚    â”‚    â”‚              â””â”€â†’ POST: add_book.php
  â”‚    â”‚    â”‚                   â”‚
  â”‚    â”‚    â”‚                   â””â”€â†’ INSERT into database
  â”‚    â”‚    â”‚                        â”‚
  â”‚    â”‚    â”‚                        â””â”€â†’ âœ… Success
  â”‚    â”‚    â”‚
  â”‚    â”‚    â””â”€â†’ [Books List Updates]
  â”‚    â”‚         â”‚
  â”‚    â”‚         â””â”€â†’ Click on a book
  â”‚    â”‚              â”‚
  â”‚    â”‚              â””â”€â†’ [Chapter Management Appears]
  â”‚    â”‚                   â”‚
  â”‚    â”‚                   â””â”€â†’ Add chapters
  â”‚    â”‚                        â””â”€â†’ DELETE chapters
  â”‚    â”‚
  â”‚    â””â”€â†’ Back to start
  â”‚
  â””â”€â†’ ðŸ‘¥ USER
       â”‚
       â”œâ”€â†’ Open: /frontend/main page/main_page.html
       â”‚    â”‚
       â”‚    â”œâ”€â†’ [Page Loads]
       â”‚    â”‚    â””â”€â†’ Fetches from main_page.php
       â”‚    â”‚         â”‚
       â”‚    â”‚         â””â”€â†’ Displays all books as cards
       â”‚    â”‚
       â”‚    â”œâ”€â†’ [User Interactions]
       â”‚    â”‚    â”œâ”€â†’ Search books
       â”‚    â”‚    â”œâ”€â†’ Filter by category
       â”‚    â”‚    â””â”€â†’ Click on a book
       â”‚    â”‚         â”‚
       â”‚    â”‚         â””â”€â†’ Redirected to: /backend/admin.html?book_id=X
       â”‚    â”‚              â”‚
       â”‚    â”‚              â””â”€â†’ Book auto-selected
       â”‚    â”‚                   â”‚
       â”‚    â”‚                   â””â”€â†’ Can view/add chapters
       â”‚    â”‚
       â”‚    â””â”€â†’ Back to main page

END
```

---

## Data Flow Sequence

```
SCENARIO: Admin adds book, user sees it

Time  â”‚ Component           â”‚ Action
â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1     â”‚ Admin (admin.html)  â”‚ Fills form: Name="Harry", Author="JKR"
2     â”‚ admin.html (JS)     â”‚ Calls add_book.php via AJAX POST
3     â”‚ add_book.php        â”‚ INSERT INTO books VALUES (...)
4     â”‚ Database            â”‚ Stores book, returns ID=5
5     â”‚ add_book.php        â”‚ Returns: {success: true, book_id: 5}
6     â”‚ admin.html (JS)     â”‚ Shows success message
7     â”‚ admin.html (JS)     â”‚ Calls loadBooks() to refresh list
8     â”‚ get_books.php       â”‚ SELECT * FROM books
9     â”‚ Database            â”‚ Returns all books including new one
10    â”‚ admin.html (JS)     â”‚ Updates "All Books" sidebar
      â”‚
11    â”‚ User (main_page)    â”‚ Visits main_page.html
12    â”‚ main_page.html (JS) â”‚ Calls main_page.php via fetch
13    â”‚ main_page.php       â”‚ SELECT * FROM books
14    â”‚ Database            â”‚ Returns all books including new one
15    â”‚ main_page.php       â”‚ Returns JSON with books
16    â”‚ main_page.html (JS) â”‚ Displays books as cards
17    â”‚ User                â”‚ Sees new book on screen âœ…
18    â”‚ User                â”‚ Clicks on new book
19    â”‚ main_page.html      â”‚ Redirects: admin.html?book_id=5
20    â”‚ admin.html          â”‚ Loads with book_id=5
21    â”‚ admin.html (JS)     â”‚ Calls checkBookSelection()
22    â”‚ admin.html (JS)     â”‚ Auto-selects book 5
23    â”‚ admin.html (JS)     â”‚ Shows chapter management section
24    â”‚ User                â”‚ Can now add chapters âœ…
```

---

## Component Relationships

```
main_page.html  â”€â”€â”€â”€[calls]â”€â”€â”€â”€>  main_page.php  â”€â”€â”€â”€[queries]â”€â”€â”€â”€>  Database
     â”‚                                 â”‚                               â”‚
     â”‚                                 â””â”€â”€â”€â”€â”€â”€[returns JSON]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[displays data]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

     [user clicks book]
            â”‚
            â””â”€â”€â”€â”€â”€â”€[redirects with ?book_id=X]â”€â”€â”€â”€>  admin.html
                                                        â”‚
                                                        â”œâ”€â”€[calls]â”€â”€>  get_books.php
                                                        â”‚                   â”‚
                                                        â”‚              [queries database]
                                                        â”‚
                                                        â”œâ”€â”€[calls]â”€â”€>  get_book.php?id=X
                                                        â”‚                   â”‚
                                                        â”‚              [queries database]
                                                        â”‚
                                                        â”œâ”€â”€[calls]â”€â”€>  add_book.php
                                                        â”‚                   â”‚
                                                        â”‚              [inserts to database]
                                                        â”‚
                                                        â”œâ”€â”€[calls]â”€â”€>  add_chapter.php
                                                        â”‚                   â”‚
                                                        â”‚              [inserts to database]
                                                        â”‚
                                                        â””â”€â”€[calls]â”€â”€>  delete_chapter.php
                                                                            â”‚
                                                                       [deletes from database]
```

---

## File Dependency Map

```
User Facing (HTML)
    â”‚
    â”œâ”€ main_page.html
    â”‚   â”œâ”€ Imports: main page.css
    â”‚   â”œâ”€ Imports: main page.js (basic)
    â”‚   â”œâ”€ Calls: main_page.php (data)
    â”‚   â””â”€ Calls: admin.html (redirect)
    â”‚
    â””â”€ admin.html
        â”œâ”€ Imports: jQuery (AJAX)
        â”œâ”€ Calls: get_books.php
        â”œâ”€ Calls: get_book.php
        â”œâ”€ Calls: add_book.php
        â”œâ”€ Calls: add_chapter.php
        â””â”€ Calls: delete_chapter.php

Backend (PHP)
    â”‚
    â”œâ”€ main_page.php (API)
    â”‚   â””â”€ Requires: config.php (database)
    â”‚
    â””â”€ Backend APIs
        â”œâ”€ get_books.php
        â”‚   â””â”€ Requires: config.php
        â”œâ”€ get_book.php
        â”‚   â””â”€ Requires: config.php
        â””â”€ admin/
            â”œâ”€ add_book.php
            â”‚   â””â”€ Requires: ../config.php
            â”œâ”€ add_chapter.php
            â”‚   â””â”€ Requires: ../config.php
            â””â”€ delete_chapter.php
                â””â”€ Requires: ../config.php
```

---

## State Management Flow

```
Initial State
    â”‚
    â”œâ”€â†’ Load Books from Database
    â”‚    â”‚
    â”‚    â””â”€â†’ Display in admin sidebar
    â”‚    â””â”€â†’ Display on main page
    â”‚
    â”œâ”€â†’ User Interaction (Admin)
    â”‚    â”‚
    â”‚    â”œâ”€â†’ Add Book
    â”‚    â”‚    â”œâ”€â†’ Database Updated
    â”‚    â”‚    â””â”€â†’ Books List Refreshed
    â”‚    â”‚
    â”‚    â””â”€â†’ Add/Delete Chapter
    â”‚         â”œâ”€â†’ Database Updated
    â”‚         â””â”€â†’ Chapters List Refreshed
    â”‚
    â””â”€â†’ User Interaction (Main Page)
         â”‚
         â”œâ”€â†’ Search/Filter
         â”‚    â””â”€â†’ Client-side Filtering
         â”‚
         â””â”€â†’ Click Book
              â”œâ”€â†’ Extract Book ID
              â”œâ”€â†’ Redirect to admin.html?book_id=X
              â””â”€â†’ Admin auto-selects book
```

---

**This visual guide helps understand how all components work together to create a cohesive system for managing books and chapters.**
